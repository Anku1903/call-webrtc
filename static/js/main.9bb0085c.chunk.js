(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,t,a){e.exports=a.p+"static/media/i2.0dc760e8.png"},120:function(e,t,a){e.exports=a(211)},125:function(e,t,a){},159:function(e,t){},183:function(e,t){},185:function(e,t){},211:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),c=a.n(l),o=(a(125),a(7)),s=a(10),i=a(229),u=(a(27),a(5)),m=a(34),d=(a(54),a(226)),p=a(228);a(55);var f=Object(m.b)((function(e){return{isLog:e.isLog,myurl:e.myurl}}),(function(e){return{setLogout:function(t){e({type:"Logout"})}}}))((function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],c=a[1],i=Object(o.f)();return Object(n.useEffect)((function(){var e=document.querySelector(".burger"),t=document.querySelector(".links"),a=document.querySelectorAll(".links li");e.addEventListener("click",(function(){t.classList.toggle("open"),a.forEach((function(e){e.classList.toggle("fade")}))}))}),[]),"false"===e.isLog?r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",null,r.a.createElement("div",{className:"burger"},r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"line"})),r.a.createElement("ul",{className:"links"},r.a.createElement("li",null,r.a.createElement(u.b,{to:"/",className:"a"},"Home")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/login",className:"a"},"Login")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/register",className:"a"},"Register"))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",null,r.a.createElement("div",{className:"burger"},r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"line"})),r.a.createElement("ul",{className:"links"},r.a.createElement("li",null,r.a.createElement(u.b,{to:"/",className:"a"},"Home")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/users",className:"a"},"Users")),r.a.createElement("li",null,r.a.createElement(u.b,{className:"a",onClick:function(){c(!0)}},"Your Url")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/",className:"a",onClick:function(){e.setLogout("true")}},"Logout")))),r.a.createElement(d.a,{show:l,onHide:function(){return c(!1)},size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(d.a.Header,{closeButton:!0},r.a.createElement(d.a.Title,{className:"mx-auto",id:"contained-modal-title-vcenter"},"Your Default Url")),r.a.createElement(d.a.Body,{className:"mx-auto"},r.a.createElement("h5",null," ",r.a.createElement(u.b,{onClick:function(){i.push("/room/".concat(e.myurl))}},e.myurl),"  ")),r.a.createElement(d.a.Footer,null,r.a.createElement(p.a,{onClick:function(){c(!1)}},"Cancel"))))})),b=a(102),g=a.n(b),E=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],c=a[1],m=Object(i.a)(),b=Object(o.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement("div",{className:" container mycontainer flex mysec"},r.a.createElement("div",{className:"col-12 col-lg-4"},r.a.createElement("h2",null," Let's Meet"),r.a.createElement("h3",null,"With Friedns!"),r.a.createElement("p",null," You can make your own groups and chat with new friends over the world !"),r.a.createElement(u.b,{onClick:function(){c(!0)},className:"ab"},"New Meeting")),r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement("img",{src:g.a,alt:"pic"}))),r.a.createElement(d.a,Object.assign({},e,{show:l,onHide:function(){c(!1)},size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(d.a.Header,{closeButton:!0},r.a.createElement(d.a.Title,{id:"contained-modal-title-vcenter"},"share this URL")),r.a.createElement(d.a.Body,null,r.a.createElement("h6",null," ",r.a.createElement(u.b,{onClick:function(){b.push("/room/".concat(m))}}," ","https://anku1903.github.io/call-webrtc/room/".concat(m)," ")," ")),r.a.createElement(d.a.Footer,null,r.a.createElement(p.a,{onClick:function(){c(!1)}},"Close"))))},h=a(52),v=a(103),w=a(104),y=a.n(w),x=a(64),N=a.n(x),j=a(105),O=a(109),k=a.n(O),L=a(112),S=a.n(L),U=a(113),D=a.n(U),C=a(110),I=a.n(C),B=a(111),F=a.n(B),R=a(227);function A(){var e=Object(v.a)(["\n    height: 50vh !important;\n    width: 50% !important;\n    margin: 0;\n"]);return A=function(){return e},e}var H=j.a.video(A()),P=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){e.peer.on("stream",(function(e){t.current.srcObject=e}))}),[]),r.a.createElement(H,{playsInline:!0,autoPlay:!0,ref:t})},q={height:window.innerHeight/2,width:window.innerWidth/2},z=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),l=a[0],c=a[1],i=Object(n.useRef)(),u=Object(n.useRef)(),m=Object(n.useRef)([]),d=Object(o.f)(),p=e.match.params.roomID,f=Object(n.useState)(!0),b=Object(s.a)(f,2),g=b[0],E=b[1],v=Object(n.useState)(!1),w=Object(s.a)(v,2),x=w[0],j=w[1],O=Object(n.useRef)(new MediaStream),L=Object(n.useRef)(),U=Object(n.useRef)();Object(n.useEffect)((function(){i.current=y.a.connect("https://immense-beach-20257.herokuapp.com/"),navigator.mediaDevices.getUserMedia({video:q,audio:!0}).then((function(e){O.current=e,L.current=e.getVideoTracks()[0],U.current=e.getAudioTracks()[0],U.current.enabled=!1,u.current.srcObject=e,i.current.emit("join room",p),i.current.on("all users",(function(t){var a=[];t.forEach((function(t){var n=function(e,t,a){var n=new N.a({initiator:!0,trickle:!1,stream:a});return n.on("signal",(function(a){i.current.emit("sending signal",{userToSignal:e,callerID:t,signal:a})})),n}(t,i.current.id,e);m.current.push({peerID:t,peer:n}),a.push(n)})),c(a)})),i.current.on("user joined",(function(t){var a=function(e,t,a){var n=new N.a({initiator:!1,trickle:!1,stream:a});return n.on("signal",(function(e){i.current.emit("returning signal",{signal:e,callerID:t})})),n.signal(e),n}(t.signal,t.callerID,e);m.current.push({peerID:t.callerID,peer:a}),c((function(e){return[].concat(Object(h.a)(e),[a])})),console.log(l)})),i.current.on("receiving returned signal",(function(e){m.current.find((function(t){return t.peerID===e.id})).peer.signal(e.signal)}))}))}),[]);return r.a.createElement("div",{className:"cont"},r.a.createElement("div",{className:"row p-0 m-0"},r.a.createElement(H,{muted:!0,ref:u,className:"m-0 p-0",autoPlay:!0,playsInline:!0}),l.map((function(e,t){return r.a.createElement(P,{key:t,peer:e})})),r.a.createElement("div",{className:"row down mx-auto"},r.a.createElement("div",{className:"col"},r.a.createElement(R.a,{onClick:function(){E(!g),function(){var e=L.current.enabled;L.current.enabled=!e}()},color:"primary","aria-label":"video",component:"span"},g&&r.a.createElement(k.a,null),!g&&r.a.createElement(I.a,null))),r.a.createElement("div",{className:"col"},r.a.createElement(R.a,{onClick:function(){d.push("/")},color:"primary",className:"endcall","aria-label":"video",component:"span"},r.a.createElement(F.a,null))),r.a.createElement("div",{className:"col"},r.a.createElement(R.a,{onClick:function(){j(!x),function(){var e=U.current.enabled;U.current.enabled=!e}()},color:"primary","aria-label":"video",component:"span"},x&&r.a.createElement(S.a,null),!x&&r.a.createElement(D.a,null))))))},T=a(38),M=a.n(T),W=a(51),Y=a(33),J=a.n(Y),V=a(39),$=a.n(V);a(97),a(98),a(99);var G=Object(m.b)((function(e){return{isLog:e.isLog}}),(function(e){return{setLogin:function(t){e({type:"Login"})},setUrl:function(t){e(function(e){return{type:"url",url:e}}(t))}}}))((function(e){var t=Object(o.f)(),a=Object(n.useState)(!1),l=Object(s.a)(a,2),c=l[0],i=l[1],m=function(){var a=Object(W.a)(M.a.mark((function a(n){var r;return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),n.target.name.value&&n.target.pass.value||alert("All fields are required !"),r={name:n.target.name.value,password:n.target.pass.value},i(!0),a.next=6,J.a.post("https://immense-beach-20257.herokuapp.com/login",r).then((function(a){if(i(!1),"0"!==a.data.user){var n=a.data.user.uuid;e.setUrl(n),e.setLogin("true"),t.push("/"),new $.a({text:"Logged in successfully!",progressBar:!1,timeout:1400,type:"error"}).show()}else i(!1),t.push("/login"),new $.a({text:"User done not exist !",progressBar:!1,timeout:1400,type:"error"}).show()}));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement("section",{className:"login flex justify-center py-24"},r.a.createElement("div",{className:"w-full max-w-xs"},r.a.createElement("form",{onSubmit:m,className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},r.a.createElement("div",{className:"mb-4"},r.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",for:"username"},"Username"),r.a.createElement("input",{name:"name",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",placeholder:"Enter your Username"})),r.a.createElement("div",{className:"mb-6"},r.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",for:"password"},"Password"),r.a.createElement("input",{name:"pass",className:"shadow appearance-none border border-red-500 rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",placeholder:"******************"})),r.a.createElement("div",{className:"flex items-center justify-between"},r.a.createElement("button",{disabled:c,className:"authbtn rounded-full text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit"},"Login"),r.a.createElement(u.b,{className:"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800",to:"/register"},"Don't have Account?"))),r.a.createElement("p",{className:"text-center text-gray-500 text-xs"},"\xa92020 Pizza Hut. All rights reserved."))))}));var K=function(){var e=Object(o.f)(),t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],c=a[1],m=Object(i.a)(),d=function(){var t=Object(W.a)(M.a.mark((function t(a){var n;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),a.target.name.value&&a.target.pass.value&&a.target.cpass.value||alert("All fields are required !"),a.target.pass.value!==a.target.cpass.value&&alert("Password does not match !"),n={name:a.target.name.value,password:a.target.pass.value,uuid:m},c(!0),t.next=7,J.a.post("https://immense-beach-20257.herokuapp.com/register",n).then((function(t){c(!1),"0"!==t.data.user?(e.push("/login"),new $.a({text:"Registered in successfully!",progressBar:!1,timeout:1400,type:"success"}).show()):(c(!1),e.push("/register"),new $.a({text:"This Username is already exist !",progressBar:!1,timeout:1400,type:"error"}).show())}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement("section",{className:"login flex justify-center py-24"},r.a.createElement("div",{className:"w-full max-w-xs"},r.a.createElement("form",{onSubmit:d,className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},r.a.createElement("div",{className:"mb-4"},r.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",for:"username"},"Username"),r.a.createElement("input",{name:"name",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",placeholder:"Enter Unique  UserName"})),r.a.createElement("div",{className:"mb-6"},r.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",for:"password"},"Password"),r.a.createElement("input",{name:"pass",className:"shadow appearance-none border border-red-500 rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",placeholder:"******************"})),r.a.createElement("div",{className:"mb-6"},r.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",for:"password"},"Confirm Password"),r.a.createElement("input",{name:"cpass",className:"shadow appearance-none border border-red-500 rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",placeholder:"******************"})),r.a.createElement("div",{className:"flex items-center justify-between"},r.a.createElement("button",{disabled:l,type:"submit",className:"authbtn rounded-full text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"},"SignUp"),r.a.createElement(u.b,{className:"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800",to:"/login"},"Already have Accoumt?"))),r.a.createElement("p",{className:"text-center text-gray-500 text-xs"},"\xa92020 Pizza Hut. All rights reserved."))))},Q=a(114),X=a.n(Q);var Z=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){J.a.get("https://immense-beach-20257.herokuapp.com/user").then((function(e){e.data.users.forEach((function(e){l((function(t){return[].concat(Object(h.a)(t),[e])}))}))}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement("div",{className:"container-fluid my-4"},a.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row mt-4 videofont"},r.a.createElement("div",{className:"col-6 font-bold"},e.name),r.a.createElement("div",{className:"col-6"},r.a.createElement(R.a,{color:"primary","aria-label":"make a call",component:"span"},r.a.createElement(X.a,null)))))}))))};var _=function(){return r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",exact:!0,component:E}),r.a.createElement(o.a,{path:"/room/:roomID",component:z}),r.a.createElement(o.a,{path:"/users",component:Z}),r.a.createElement(o.a,{path:"/login",component:G}),r.a.createElement(o.a,{path:"/register",component:K}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee=a(49),te=a(24),ae={isLog:"false",myurl:"http://localhost:3000/"},ne=Object(ee.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;if("Login"===t.type)return Object(te.a)(Object(te.a)({},e),{},{isLog:"true"});if("Logout"===t.type)return Object(te.a)(Object(te.a)({},e),{},{isLog:"false"});if("url"===t.type){var a=e.myurl+t.url;return Object(te.a)(Object(te.a)({},e),{},{myurl:a})}return Object(te.a)({},e)}));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,{basename:"/call-webrtc"},r.a.createElement(m.a,{store:ne},r.a.createElement(_,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},27:function(e,t,a){},99:function(e,t,a){}},[[120,1,2]]]);
//# sourceMappingURL=main.9bb0085c.chunk.js.map